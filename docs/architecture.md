# ì•„í‚¤í…ì²˜

## ì‹œìŠ¤í…œ ê°œìš”

MustGo ì›¹ì€ Flutter ì•±ì˜ WebViewì—ì„œ ì¥ì†Œ ìƒì„¸ ì •ë³´ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•œ ì •ì  ì›¹ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“± MustGo ì•± (Flutter)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ë„¤ì´í‹°ë¸Œ í™”ë©´ (í™ˆ, ì§€ë„, ì„¤ì •)              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚ ì¹´ë“œ íƒ­                      â”‚
â”‚                   â–¼                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸŒ WebView                               â”‚   â”‚
â”‚  â”‚  mustgo.heg.wtf/places/{UUID}?type=...   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Pages (mustgo.heg.wtf)                  â”‚
â”‚  - ì •ì  HTML/CSS/JS                             â”‚
â”‚  - Naver Maps SDK                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì•±-WebView í†µì‹ 

### ì•± â†’ WebView

| ë°©ì‹ | ìš©ë„ | ì˜ˆì‹œ |
|------|------|------|
| URL íŒŒë¼ë¯¸í„° | ì•± ëª¨ë“œ ì„¤ì • | `?type=MUSTGO-APP` |
| URL íŒŒë¼ë¯¸í„° | í…Œë§ˆ ì„¤ì • | `?theme=dark` |
| JS í˜¸ì¶œ | ë™ì  ë³€ê²½ | `window.applyTheme('dark')` |

### ì•± ëª¨ë“œ (type=MUSTGO-APP)

ì•±ì—ì„œ WebViewë¡œ ì ‘ê·¼ ì‹œ ë‹¤ìŒ ìš”ì†Œê°€ ìˆ¨ê²¨ì§‘ë‹ˆë‹¤:
- í—¤ë” (ë’¤ë¡œ, ê³µìœ  ë²„íŠ¼)
- í‘¸í„° (í™ˆ, ì´ìš©ì•½ê´€, ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨)
- ê¸¸ì°¾ê¸° ë²„íŠ¼ (.place-actions)

### WebView â†’ ì•±

`bridge.js`ì˜ `MustGoBridge` ê°ì²´ë¥¼ í†µí•´ í†µì‹ :

```javascript
MustGoBridge.bookmark(placeId)      // ë¶ë§ˆí¬
MustGoBridge.share(placeId, url)    // ê³µìœ 
MustGoBridge.back()                 // ë’¤ë¡œê°€ê¸°
MustGoBridge.openExternal(url)      // ì™¸ë¶€ ë§í¬
MustGoBridge.navigate(lat, lng)     // ê¸¸ì°¾ê¸°
MustGoBridge.call(phone)            // ì „í™”
```

### ë©”ì‹œì§€ í˜•ì‹

```json
{
  "action": "bookmark",
  "data": { "placeId": "002cdb8f-5f71-4657-b259-a2e4383336db" },
  "timestamp": 1706918400000
}
```

### ì§€ì› ì±„ë„

1. **Flutter**: `window.MustGoChannel.postMessage()`
2. **Android**: `window.MustGoAndroid.postMessage()`
3. **iOS**: `window.webkit.messageHandlers.MustGo.postMessage()`

## ë‹¤í¬ëª¨ë“œ

### ìš°ì„ ìˆœìœ„

1. URL íŒŒë¼ë¯¸í„° (`?theme=dark` / `?theme=light`)
2. ì‹œìŠ¤í…œ ì„¤ì • (`prefers-color-scheme`)

### CSS êµ¬í˜„

```css
:root { /* ë¼ì´íŠ¸ëª¨ë“œ ë³€ìˆ˜ */ }
[data-theme="dark"] { /* ë‹¤í¬ëª¨ë“œ ë³€ìˆ˜ */ }
@media (prefers-color-scheme: dark) { /* ì‹œìŠ¤í…œ ë‹¤í¬ëª¨ë“œ */ }
```

## ì¥ì†Œ í˜ì´ì§€ ìƒì„± íŒŒì´í”„ë¼ì¸

```
Supabase DB (mustgo_places í…Œì´ë¸”)
        â”‚
        â–¼
Claude Agent (generate-html-slider.mjs)
  - Supabase REST APIë¡œ 256ê°œ ì¥ì†Œ ì¡°íšŒ
  - í…œí”Œë¦¿ ê¸°ë°˜ HTML ìƒì„±
  - ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë”, ì§€ë„, SEO ë©”íƒ€ íƒœê·¸ ì‚½ì…
        â”‚
        â–¼
GitHub Repository ì»¤ë°‹
  - places/{UUID}.html
  - sitemap.xml ìë™ ì—…ë°ì´íŠ¸
        â”‚
        â–¼
GitHub Pages ìë™ ë°°í¬
```

### íŒŒì¼ëª… ê·œì¹™

```
places/{UUID}.html

ì˜ˆì‹œ:
  places/002cdb8f-5f71-4657-b259-a2e4383336db.html
  places/00d18859-620e-4fc1-856c-7a8d472b9551.html
```

UUIDëŠ” Supabase `mustgo_places` í…Œì´ë¸”ì˜ `id` í•„ë“œ ê°’ì…ë‹ˆë‹¤.

## ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë”

### êµ¬ì¡°

```html
<section class="place-hero place-slider">
  <div class="place-slider-track">
    <div class="place-slider-slide">...</div>
  </div>
  <button class="place-slider-nav prev">...</button>
  <button class="place-slider-nav next">...</button>
  <div class="place-slider-counter">1 / 3</div>
</section>
```

### ê¸°ëŠ¥

- í„°ì¹˜ ìŠ¤ì™€ì´í”„ ì§€ì› (50px ì´ìƒ ë“œë˜ê·¸)
- ì´ì „/ë‹¤ìŒ ë²„íŠ¼ ë„¤ë¹„ê²Œì´ì…˜
- ì¹´ìš´í„° í‘œì‹œ (í˜„ì¬/ì „ì²´)
- ì´ë¯¸ì§€ 1ê°œì¼ ê²½ìš° ë„¤ë¹„ê²Œì´ì…˜ ìˆ¨ê¹€

## ë„¤ì´ë²„ ì§€ë„

### SDK ì„¤ì •

```html
<script src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=5sgg4izutv"></script>
```

### ì§€ë„ ì»¨í…Œì´ë„ˆ

```html
<div class="place-map-container" id="map"
     data-lat="37.53484249"
     data-lng="127.00085988"
     data-name="ì¥ì†Œëª…">
</div>
```

### ì„¤ì •ê°’

- ì¤Œ ë ˆë²¨: 18
- ì»¨íŠ¸ë¡¤: ëª¨ë‘ ìˆ¨ê¹€
- ë§ˆì»¤: ì¥ì†Œ ìœ„ì¹˜ì— ìë™ ì¶”ê°€
