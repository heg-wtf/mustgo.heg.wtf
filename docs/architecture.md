# ì•„í‚¤í…ì²˜

## ì‹œìŠ¤í…œ ê°œìš”

MustGo ì›¹ì€ Flutter ì•±ì˜ WebViewì—ì„œ ì¥ì†Œ ìƒì„¸ ì •ë³´ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•œ ì •ì  ì›¹ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“± MustGo ì•± (Flutter)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ë„¤ì´í‹°ë¸Œ í™”ë©´ (í™ˆ, ì§€ë„, ì„¤ì •)              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚ ì¹´ë“œ íƒ­                      â”‚
â”‚                   â–¼                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸŒ WebView                               â”‚   â”‚
â”‚  â”‚  mustgo.heg.wtf/places/{place_id}        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Pages (mustgo.heg.wtf)                  â”‚
â”‚  - ì •ì  HTML/CSS/JS                             â”‚
â”‚  - AdSense ê´‘ê³                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì•±-WebView í†µì‹ 

### ì•± â†’ WebView

| ë°©ì‹ | ìš©ë„ | ì˜ˆì‹œ |
|------|------|------|
| URL íŒŒë¼ë¯¸í„° | ì´ˆê¸° ì„¤ì • | `?theme=dark&hideHeader=true` |
| JS í˜¸ì¶œ | ë™ì  ë³€ê²½ | `window.applyTheme('dark')` |

### WebView â†’ ì•±

`bridge.js`ì˜ `MustGoBridge` ê°ì²´ë¥¼ í†µí•´ í†µì‹ :

```javascript
MustGoBridge.bookmark(placeId)      // ë¶ë§ˆí¬
MustGoBridge.share(placeId, url)    // ê³µìœ 
MustGoBridge.back()                 // ë’¤ë¡œê°€ê¸°
MustGoBridge.openExternal(url)      // ì™¸ë¶€ ë§í¬
MustGoBridge.navigate(lat, lng)     // ê¸¸ì°¾ê¸°
MustGoBridge.call(phone)            // ì „í™”
```

### ë©”ì‹œì§€ í˜•ì‹

```json
{
  "action": "bookmark",
  "data": { "placeId": "seoul-001" },
  "timestamp": 1706918400000
}
```

### ì§€ì› ì±„ë„

1. **Flutter**: `window.MustGoChannel.postMessage()`
2. **Android**: `window.MustGoAndroid.postMessage()`
3. **iOS**: `window.webkit.messageHandlers.MustGo.postMessage()`

## ë‹¤í¬ëª¨ë“œ

### ìš°ì„ ìˆœìœ„

1. URL íŒŒë¼ë¯¸í„° (`?theme=dark` / `?theme=light`)
2. ì‹œìŠ¤í…œ ì„¤ì • (`prefers-color-scheme`)

### CSS êµ¬í˜„

```css
:root { /* ë¼ì´íŠ¸ëª¨ë“œ ë³€ìˆ˜ */ }
[data-theme="dark"] { /* ë‹¤í¬ëª¨ë“œ ë³€ìˆ˜ */ }
@media (prefers-color-scheme: dark) { /* ì‹œìŠ¤í…œ ë‹¤í¬ëª¨ë“œ */ }
```

## ì¥ì†Œ í˜ì´ì§€ ìƒì„± íŒŒì´í”„ë¼ì¸

```
Supabase DB (places í…Œì´ë¸”)
        â”‚
        â–¼
Claude Agent
  - í…œí”Œë¦¿ ê¸°ë°˜ HTML ìƒì„±
  - OG ë©”íƒ€ íƒœê·¸, Schema.org ì‚½ì…
        â”‚
        â–¼
GitHub Repository ì»¤ë°‹
  - places/{region}-{seq}.html
        â”‚
        â–¼
GitHub Pages ìë™ ë°°í¬
```

### íŒŒì¼ëª… ê·œì¹™

```
places/{region_slug}-{3ìë¦¬ ì‹œí€€ìŠ¤}.html

ì˜ˆì‹œ:
  places/seoul-001.html
  places/jeju-042.html
  places/busan-001.html
```
